<html>
<head>
    <link rel="stylesheet" type="text/css" href="article.css" media="screen" />
</head>
<body>
    <div id="main">
        <div id="title">Getting User IDs</div>
        <div id="article_body">
            Within OneSignal there are two types of User IDs: 
            <div id="subtitle">Player IDs</div>
            Player Ids are created when a user registers and will remain the same for as long as the user is subscribed to notifications. 
            When a user resets their notification settings and clears their borwser's site data for your site, they will need to reregister 
            to recieve notifications. Doing so will create a new player ID, but will not delete the old player ID (which will now be set to 
            "Not Subscribed") within the Audience -> Users page of the OneSignal platform. 
            <br><br> 
            To retrieve the user's player ID, you will need to run the following command:
            <br><br>
            <div class="code_box">
                OneSignal.push(function() {
                <br>&nbsp;&nbsp;OneSignal.getUserId(function(userId) {
                <br>&nbsp;&nbsp;&nbsp;&nbsp;console.log("OneSignal User ID:", userId);
                <br>&nbsp;&nbsp;});
                <br>});
            </div>
            <br>
            If you have subscribed, your current player ID will be displayed in the box below:
            <br>
            <div class="code_box" id="player_id"></div>
            <br>
            <div id="subtitle">External User IDs</div>
            External user Ids are designed to connect multiple devices under one ID and can be set by you to any value of your choice. 
            To set an External User ID, you will need to use the setExternalUserId method: 
            <div class="code_box">
                OneSignal.push(function() {
                    <br>&nbsp;&nbsp;OneSignal.setExternalUserId(externalUserId);
                <br>});
            </div>
            <br>
            To retrive the users current External User ID, use the getExternalUserId function as below: 
            <div class="code_box">
                OneSignal.push(function() {
                <br>&nbsp;&nbsp;OneSignal.getExternalUserId().then(function(externalUserId){
                <br>&nbsp;&nbsp;});
                <br>});
            </div>
        
        </div>

    </div>
    <script>
    OneSignal = parent.OneSignal;
    OneSignal.push(function() {
        OneSignal.getUserId(function(userId) {
            if(userId){
                document.getElementById("player_id").innerHTML = userId;
            }  
        });
    });
    </script>
</body>